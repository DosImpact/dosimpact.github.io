---
sidebar_position: 2
---

# NextJS Essential 3 - Routing

- [NextJS Essential 3 - Routing](#nextjs-essential-3---routing)
  - [Linking and Navigating](#linking-and-navigating)
    - [Link Component](#link-component)
    - [useRouter](#userouter)
  - [Server](#server)
    - [Dynamic Routes (SSR)](#dynamic-routes-ssr)
    - [generateStaticParams (SSG)](#generatestaticparams-ssg)
    - [Parallel Routes](#parallel-routes)
    - [Intercepting Routes](#intercepting-routes)
  - [Client](#client)
    - [useParams](#useparams)
    - [usePathname, useSearchParams](#usepathname-usesearchparams)

---

## Linking and Navigating

ref : https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating



### Link Component

```js
import Link from 'next/link'
 
export default function Page() {
  return <Link href="/dashboard">Dashboard</Link>
}

```

### useRouter

- * 'use client' 을 써야 된다. > useRouter 
- * Server Components, you would redirect() instead.
- cf) next/router 은 사용하지 않는다.  


```js
'use client'

import { useRouter } from 'next/navigation'

export default function Page() {
  const router = useRouter()
 
  return (
    <button type="button" onClick={() => router.push('/dashboard')}>
      Dashboard
    </button>
  )
}
```
https://nextjs.org/docs/app/api-reference/functions/use-router

## Server

### Dynamic Routes (SSR)

>> https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes#example

```js
interface LibraryProps {
  params: {
    id: string;
  };
}

const sleep = async (ms) => new Promise((res) => setTimeout(res, ms));

export default async function Library({ params }: LibraryProps) {
  console.log("-->params.id", params.id);
  await sleep(2500);
  console.log("--> get some data from server");
  return (<div />)
}
```

### generateStaticParams (SSG)

>>https://nextjs.org/docs/app/api-reference/functions/generate-static-params

```js
// app/blog/[slug]/page.js

// Return a list of `params` to populate the [slug] dynamic segment
export async function generateStaticParams() {
  const posts = await fetch('https://.../posts').then((res) => res.json())
  return posts.map((post) => ({    slug: post.slug,  }))
}
 
// Multiple versions of this page will be statically generated
// using the `params` returned by `generateStaticParams`
export default function Page({ params }) {
  const { slug } = params
  // ...
}
```

### Parallel Routes

>> https://nextjs.org/docs/app/building-your-application/routing/parallel-routes

![alt](https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fparallel-routes.png&w=1920&q=75&dpl=dpl_9x7y4B6Nva5cXpJSPhtT4qqxdyr3)

```js

```


### Intercepting Routes

>> https://nextjs.org/docs/app/building-your-application/routing/intercepting-routes


## Client 

### useParams

```js
'use client'
 
import { useParams } from 'next/navigation'
 
export default function ExampleClientComponent() {
  const params = useParams<{ tag: string; item: string }>()
 
  // Route -> /shop/[tag]/[item]
  // URL -> /shop/shoes/nike-air-max-97
  // `params` -> { tag: 'shoes', item: 'nike-air-max-97' }
  console.log(params)
 
  return <></>
}
```

### usePathname, useSearchParams

```js
'use client'

import { usePathname, useSearchParams } from 'next/navigation'
 
function ExampleClientComponent() {
  const pathname = usePathname()
  // URL	  >>. Returned value
  // /dashboard?v=2	 >>   '/dashboard'
  // /blog/hello-world	>>  '/blog/hello-world'


  function switchLocale(locale: string) {
    // e.g. '/en/about' or '/fr/contact'
    const newPath = `/${locale}${pathname}`
    window.history.replaceState(null, '', newPath)
  }

  // URL -> `/dashboard?search=my-project`
  // `search` -> 'my-project'
  const searchParams = useSearchParams()
  const search = searchParams.get('search')


}
```




