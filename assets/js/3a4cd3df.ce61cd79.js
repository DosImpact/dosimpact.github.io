"use strict";(self.webpackChunkdosimpact_blog=self.webpackChunkdosimpact_blog||[]).push([[7644],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,k=c["".concat(i,".").concat(d)]||c[d]||m[d]||o;return n?a.createElement(k,l(l({ref:t},u),{},{components:n})):a.createElement(k,l({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[c]="string"==typeof e?e:r,l[1]=s;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9214:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:2},l="NextJS Essential 1",s={unversionedId:"g-fe/next/next002-1",id:"g-fe/next/next002-1",title:"NextJS Essential 1",description:"- NextJS Essential 1",source:"@site/docs/g-fe/5-next/next002-1.md",sourceDirName:"g-fe/5-next",slug:"/g-fe/next/next002-1",permalink:"/docs/g-fe/next/next002-1",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/g-fe/5-next/next002-1.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"frontEnd",previous:{title:"NextJS Install",permalink:"/docs/g-fe/next/next001"},next:{title:"NextJS Essential 2",permalink:"/docs/g-fe/next/next002-2"}},i={},p=[{value:"AppRouter",id:"approuter",level:2},{value:"\ub514\ub809\ud130\ub9ac \uc804\ub7b5",id:"\ub514\ub809\ud130\ub9ac-\uc804\ub7b5",level:3},{value:"RCS, SSR \uc774\ud574",id:"rcs-ssr-\uc774\ud574",level:2},{value:"Client, Server Component",id:"client-server-component",level:3},{value:"revalidate",id:"revalidate",level:3},{value:"AppRouter + RCS",id:"approuter--rcs",level:2},{value:"File Conventions",id:"file-conventions",level:3},{value:"RCS + AppRouter\uc758 \ub3d9\uc791\uc774\ud574",id:"rcs--approuter\uc758-\ub3d9\uc791\uc774\ud574",level:3},{value:"ref",id:"ref",level:3},{value:"Linking and Navigating",id:"linking-and-navigating",level:2},{value:"Link Component",id:"link-component",level:3},{value:"useRouter",id:"userouter",level:3},{value:"usePathname, useSearchParams",id:"usepathname-usesearchparams",level:3},{value:"useParams",id:"useparams",level:3},{value:"Server Level",id:"server-level",level:2},{value:"Server actions",id:"server-actions",level:2},{value:"Server router handler",id:"server-router-handler",level:2},{value:"api",id:"api",level:3},{value:"GET - basic",id:"get---basic",level:4},{value:"header, cookies",id:"header-cookies",level:4},{value:"GET - Route Segments Paramters, Query Parameters",id:"get---route-segments-paramters-query-parameters",level:4},{value:"CORS",id:"cors",level:4},{value:"POST",id:"post",level:4},{value:"Middleware",id:"middleware",level:3},{value:"etc",id:"etc",level:2},{value:"metadata",id:"metadata",level:2},{value:"directory custome convention",id:"directory-custome-convention",level:2},{value:"hydration\uc774 \ub05d\ub0ac\ub294\uc9c0 \uc54c \uc218 \uc788\ub294 \ubc29\ubc95",id:"hydration\uc774-\ub05d\ub0ac\ub294\uc9c0-\uc54c-\uc218-\uc788\ub294-\ubc29\ubc95",level:2},{value:"Typing Guide",id:"typing-guide",level:2},{value:"PropsPass",id:"propspass",level:3}],u={toc:p},c="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"nextjs-essential-1"},"NextJS Essential 1"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#nextjs-essential-1"},"NextJS Essential 1"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#approuter"},"AppRouter"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC-%EC%A0%84%EB%9E%B5"},"\ub514\ub809\ud130\ub9ac \uc804\ub7b5")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#rcs-ssr-%EC%9D%B4%ED%95%B4"},"RCS, SSR \uc774\ud574"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#client-server-component"},"Client, Server Component")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#revalidate"},"revalidate")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#approuter--rcs"},"AppRouter + RCS"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#file-conventions"},"File Conventions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#rcs--approuter%EC%9D%98-%EB%8F%99%EC%9E%91%EC%9D%B4%ED%95%B4"},"RCS + AppRouter\uc758 \ub3d9\uc791\uc774\ud574")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ref"},"ref")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#linking-and-navigating"},"Linking and Navigating"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#link-component"},"Link Component")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#userouter"},"useRouter")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#usepathname-usesearchparams"},"usePathname, useSearchParams")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#useparams"},"useParams")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#server-level"},"Server Level")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#server-actions"},"Server actions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#server-router-handler"},"Server router handler"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#api"},"api"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#get---basic"},"GET - basic")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#header-cookies"},"header, cookies")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#get---route-segments-paramters-query-parameters"},"GET - Route Segments Paramters, Query Parameters")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#cors"},"CORS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#post"},"POST")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#middleware"},"Middleware")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#etc"},"etc")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#metadata"},"metadata")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#directory-custome-convention"},"directory custome convention")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#hydration%EC%9D%B4-%EB%81%9D%EB%82%AC%EB%8A%94%EC%A7%80-%EC%95%8C-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%B0%A9%EB%B2%95"},"hydration\uc774 \ub05d\ub0ac\ub294\uc9c0 \uc54c \uc218 \uc788\ub294 \ubc29\ubc95")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#typing-guide"},"Typing Guide"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#propspass"},"PropsPass"))))))),(0,r.kt)("h2",{id:"approuter"},"AppRouter"),(0,r.kt)("p",null,"NextJS\uc5d0\uc11c\ub294 app \ub514\ub809\ud130\ub9ac \uad6c\uc870\uac00 \uc6f9\ud398\uc774\uc9c0 \uc804\uccb4 \uad6c\uc870\ub97c \ud45c\ud604\ud558\ub2e4.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"app \ub514\ub809\ud130\ub9ac = \uc6f9 \ud398\uc774\uc9c0 \uc0ac\uc774\ud2b8 \ub9f5  ")),(0,r.kt)("h3",{id:"\ub514\ub809\ud130\ub9ac-\uc804\ub7b5"},"\ub514\ub809\ud130\ub9ac \uc804\ub7b5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},".\n\u251c\u2500\u2500 actions : next server actions \uae30\ub2a5  \n\u251c\u2500\u2500 app : AppRouter\n\u2502   \u251c\u2500\u2500 api : api Handler  \n\u2502   \u2502   \u251c\u2500\u2500 create-checkout-session\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 route.ts\n\u2502   \u2502   \u251c\u2500\u2500 create-portal-link\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 route.ts\n\u2502   \u2502   \u2514\u2500\u2500 webhooks\n\u2502   \u2502       \u2514\u2500\u2500 route.ts\n\u2502   \u251c\u2500\u2500 (site)\n\u2502   \u2502   \u251c\u2500\u2500 error.tsx\n\u2502   \u2502   \u251c\u2500\u2500 loading.tsx\n\u2502   \u2502   \u2514\u2500\u2500 page.tsx\n\u2502   \u251c\u2500\u2500 error.tsx\n\u2502   \u251c\u2500\u2500 favicon.ico\n\u2502   \u251c\u2500\u2500 globals.css\n\u2502   \u251c\u2500\u2500 layout.tsx\n\u2502   \u251c\u2500\u2500 loading.tsx\n\u2502   \u251c\u2500\u2500 account\n\u2502   \u2502   \u251c\u2500\u2500 components\n\u2502   \u2502   \u251c\u2500\u2500 error.tsx\n\u2502   \u2502   \u251c\u2500\u2500 loading.tsx\n\u2502   \u2502   \u2514\u2500\u2500 page.tsx\n\u2502   \u2514\u2500\u2500 search\n\u2502       \u251c\u2500\u2500 components\n\u2502       \u2502   \u2514\u2500\u2500 SearchContent.tsx\n\u2502       \u251c\u2500\u2500 error.tsx\n\u2502       \u251c\u2500\u2500 loading.tsx\n\u2502       \u2514\u2500\u2500 page.tsx\n\u251c\u2500\u2500 components : \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9b4 \n\u251c\u2500\u2500 hooks : \uacf5\ud1b5 \ud6c5\n\u251c\u2500\u2500 providers : Context \ubaa8\uc74c\n\u251c\u2500\u2500 libs : \uc678\ubd80 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc11c\ube44\uc2a4 (stripe,supaBase \ub4f1)\n\u251c\u2500\u2500 public : \uc815\uc801 \ub9ac\uc18c\uc2a4 \n\u251c\u2500\u2500 database.sql : DB Modal\n\u251c\u2500\u2500 middleware.ts\n\u251c\u2500\u2500 next.config.js\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 postcss.config.js\n\u251c\u2500\u2500 tailwind.config.js\n\u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 types.ts\n\u2514\u2500\u2500 types_db.ts\n")),(0,r.kt)("h2",{id:"rcs-ssr-\uc774\ud574"},"RCS, SSR \uc774\ud574"),(0,r.kt)("h3",{id:"client-server-component"},"Client, Server Component"),(0,r.kt)("p",null,"1.NextJS\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \uc11c\ubc84\ucef4\ud3ec\ub10c\ud2b8\uc774\ub2e4.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Client Component \uc120\uc5b8\uc744 \uc704\ud574\uc11c 'use client'\uc744 \ud30c\uc77c\uc704\uc5d0 \uc801\uc5b4\uc900\ub2e4.    "),(0,r.kt)("li",{parentName:"ul"},"Client Component\uc5d0\uc11c import\ud558\ub294 \ud558\uc704 \ucef4\ud3ec\ub10c\ud2b8\ub294 \ubaa8\ub450 Client Component \uc774\ub2e4.   "),(0,r.kt)("li",{parentName:"ul"},"Client Component\uc5d0\uc11c useState \ub4f1\uc758 \ub9ac\uc561\ud2b8 lifecycle hook\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.  ")),(0,r.kt)("p",null,"2.NextJS\uc5d0\uc11c \uc11c\ubc84\ucef4\ud3ec\ub10c\ud2b8\ub294 \uc11c\ubc84\uc5d0\uc11c \ub79c\ub354\ub9c1 \ub41c\ub2e4.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"AppRouter\uad6c\uc870 \uc0c1 FullPage, SubPage\ub85c \uad6c\ubd84\ub41c\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"FullPage \uc694\uccad (\uc0c8\ub85c\uace0\uce68, \ucd5c\ucd08\uc694\uccad)\uc5d0\ub294 SSR\uc774 \uc801\uc6a9\ub41c\ub2e4.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"use client")," \uc9c0\uc2dc\uc5b4\ub97c \uc0ac\uc6a9\ud588\uc5b4\ub3c4, SSR\uc5d0 \ud3ec\ud568\ub420 \uc218 \uc788\ub2e4.  "))),(0,r.kt)("li",{parentName:"ul"},"SubPage\ub85c \ub77c\uc6b0\ud305 \ub418\uba74, \ud544\uc694\ud55c \ubd80\ubd84\ub9cc \uc11c\ubc84\uc5d0\uc11c \ub79c\ub354\ub9c1 \ub41c\ub2e4.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"RooLayout\uc5d0\uc11c context \uc640 \uac19\uc740 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0c1\ud0dc\ub294 \uc720\uc9c0\ub41c\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"\ud2b9\uc815 subPage\uac00 \uc11c\ubc84\ucef4\ud3ec\ub10c\ud2b8\ub85c SSR\uc774 \uac00\ub2a5\ud558\uba74 \uadf8 \ubd80\ubd84\ub9cc \ucef4\ud30c\uc77c \ub41c\ub2e4.   ")))),(0,r.kt)("p",null,"3.\ud074\ub77c\uc774\uc5b8\ud2b8 \uacbd\uacc4 "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"RSC, RCC \uac00 \ud63c\ud569\ub418\uc9c0\ub9cc, \uacb0\uad6d \uc77c\ubd80 \ub79c\ub354 \ud2b8\ub9ac\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8 \ub2e8\uc5d0\uc11c \ucc98\ub9ac\uac00 \ud544\uc694.  "),(0,r.kt)("li",{parentName:"ul"},"SSR\uc774 \uac00\ub2a5\ud55c \ubd80\ubd84\uacfc \uadf8\ub807\uc9c0 \uc54a\uc740 \ubd80\ubd84\uc744 nextjs\uac00 \uad6c\ubd84\ud574\uc11c \ucd5c\uc801\ud654 \ud55c\ub2e4.   "),(0,r.kt)("li",{parentName:"ul"},"\ucd5c\ub300\ud55c SSR\uc5d0\uc11c \ucc98\ub9ac\ud558\uace0 \ub098\uba38\uc9c0 \ubd80\ubd84\uc740 browser\uc5d0\uc11c \ucc98\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4dc\ub294\uac83\uc774 \ubaa9\ud45c\uc774\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"\ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \uacbd\uacc4\ub97c \uad6c\ubd84\uc9d3\uae30 \uc704\ud55c \uacb0\uacfc\ub2e4.")),(0,r.kt)("h3",{id:"revalidate"},"revalidate"),(0,r.kt)("p",null,"\uc11c\ubc84\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ubb34\uc870\uac74 \uc0c8\ub85c\uc6b4 \ub370\uc774\ud130\ub85c\ub9cc SSR\uc744 \uc218\ud589\ud558\uace0\uc790 \ud560 \ub54c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// 0 \uc740 \uc694\uccad\uc774 \ub4e4\uc5b4\uc624\uba74 \ud398\uc774\uc9c0\uac00 \ub2e4\uc2dc \uc0dd\uc131\ub41c\ub2e4\ub294 \uc758\ubbf8\uc774\ub2e4.  \n// 60 \uc774\ub77c\uba74, 60\ucd08\ub9c8\ub2e4 \ud398\uc774\uc9c0\ub97c \ub2e4\uc2dc \uc0dd\uc131 \ud55c\ub2e4, \uc815\uc801\ud398\uc774\uc9c0\uc758 \ub0b4\uc6a9\uc744 \uc8fc\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud558\uace0 \ucd5c\uc2e0\ub370\uc774\ud130\ub97c \uc720\uc9c0\ud55c\ub2e4.  \nexport const revalidate = 0;\n")),(0,r.kt)("p",null,"ref : ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating"},"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating")),(0,r.kt)("h2",{id:"approuter--rcs"},"AppRouter + RCS"),(0,r.kt)("h3",{id:"file-conventions"},"File Conventions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# File Conventions\npage  :  Unique UI of a route and make routes publicly accessible (SSR)\nloading :  Loading UI for a segment and its children (use client)\nerror :  Error UI for a segment and its children (use client)\n\nlayout  :  Shared UI for a segment and its children\nnot-found :  Not found UI for a segment and its children\nglobal-error  :  Global Error UI\nroute :  Server-side API endpoint\ntemplate  :  Specialized re-rendered Layout UI\ndefault :  Fallback UI for Parallel Routes\n\n\n# check Component Hierarchy  \n- \ud30c\uc77c \ucee8\ubca4\uc158\uc5d0 \ub530\ub77c\uc11c \ub9ac\uc561\ud2b8 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub9cc\ub4e4\uc5c8\ub2e4.  \n- \uadf8 \ucef4\ud3ec\ub10c\ud2b8 \uc0ac\uc774\uc5d0\ub294 \uc57d\uc18d\ub41c Tree\uac00 \uc0dd\uc131 \ub41c\ub2e4. \n\n")),(0,r.kt)("p",null,"ref : ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts"},"https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts")),(0,r.kt)("h3",{id:"rcs--approuter\uc758-\ub3d9\uc791\uc774\ud574"},"RCS + AppRouter\uc758 \ub3d9\uc791\uc774\ud574"),(0,r.kt)("p",null,"NextJS\uc5d0\uc11c RootLayout\uc758 \ub85c\ub529 \uc2dc\uac04\uc744 \uc904\uc774\ub294\uac83\uc740 \ub9e4\uc6b0 \uc911\uc694\ud558\ub2e4.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"RootLayout 2\ucd08 + Home 2\ucd08 => \ud398\uc774\uc9c0 \ucd5c\ucd08 \ub85c\ub529 2\ucd08"),(0,r.kt)("li",{parentName:"ul"},"RootLayout 4\ucd08 + Home 2\ucd08 => \ud398\uc774\uc9c0 \ucd5c\ucd08 \ub85c\ub529 4\ucd08 : Root\uac00 \ub290\ub9ac\uba74 \ub2e4 \uac19\uc774 \ub290\ub824\uc9c4\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"RootLayout 2\ucd08 + Home 4\ucd08 => \ud398\uc774\uc9c0 \ucd5c\ucd08 \ub85c\ub529 2\ucd08 + Home \ub808\uc774\uc6c3\uc740 loading.tsx \ub178\ucd9c  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'export default async function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  console.log("--\x3e start");\n  await sleep(4000);\n  console.log("--\x3e end");\n  return (\n    <html lang="en">\n      <body className={inter.className}>\n        {children}\n        <ToasterProvider />\n      </body>\n    </html>\n  );\n}\n---\nexport default async function Home() {\n  console.log("--\x3e Home start");\n  await sleep(2000);\n  console.log("--\x3e Home end");\n\n  return (\n    <div>\n      {/* <Box>Home box</Box> */}\n      <Loader />\n    </div>\n  );\n')),(0,r.kt)("h3",{id:"ref"},"ref"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://yozm.wishket.com/magazine/detail/2271/"},"https://yozm.wishket.com/magazine/detail/2271/"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://reactnext-central.xyz/blog/8-things-you-shold-konw-about-nextjs-13#1-react-%EC%84%9C%EB%B2%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-rsc"},"https://reactnext-central.xyz/blog/8-things-you-shold-konw-about-nextjs-13#1-react-%EC%84%9C%EB%B2%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-rsc"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/37"},"https://github.com/reactwg/react-18/discussions/37")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"linking-and-navigating"},"Linking and Navigating"),(0,r.kt)("p",null,"ref : ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating"},"https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating")),(0,r.kt)("h3",{id:"link-component"},"Link Component"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import Link from 'next/link'\n \nexport default function Page() {\n  return <Link href=\"/dashboard\">Dashboard</Link>\n}\n\n")),(0,r.kt)("h3",{id:"userouter"},"useRouter"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"'use client' \uc744 \uc368\uc57c \ub41c\ub2e4. > useRouter "))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Server Components, you would redirect() instead."))),(0,r.kt)("li",{parentName:"ul"},"cf) next/router \uc740 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294\ub2e4.  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"'use client'\n\nimport { useRouter } from 'next/navigation'\n\nexport default function Page() {\n  const router = useRouter()\n \n  return (\n    <button type=\"button\" onClick={() => router.push('/dashboard')}>\n      Dashboard\n    </button>\n  )\n}\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/api-reference/functions/use-router"},"https://nextjs.org/docs/app/api-reference/functions/use-router")),(0,r.kt)("h3",{id:"usepathname-usesearchparams"},"usePathname, useSearchParams"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"'use client'\n \nimport { usePathname, useSearchParams } from 'next/navigation'\n \nfunction ExampleClientComponent() {\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n  useEffect(() => {\n    // Do something here...\n  }, [pathname, searchParams])\n}\n")),(0,r.kt)("h3",{id:"useparams"},"useParams"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"'use client'\n \nimport { useParams } from 'next/navigation'\n \nexport default function ExampleClientComponent() {\n  const params = useParams<{ tag: string; item: string }>()\n \n  // Route -> /shop/[tag]/[item]\n  // URL -> /shop/shoes/nike-air-max-97\n  // `params` -> { tag: 'shoes', item: 'nike-air-max-97' }\n  console.log(params)\n \n  return <></>\n}\n\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"server-level"},"Server Level"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"1.Server actions : \ub3d9\uc801 URL \ucc98\ub9ac  "),(0,r.kt)("li",{parentName:"ul"},"2.Server router handler : \uc815\uc801 URL \ucc98\ub9ac   ")),(0,r.kt)("h2",{id:"server-actions"},"Server actions"),(0,r.kt)("h2",{id:"server-router-handler"},"Server router handler"),(0,r.kt)("h3",{id:"api"},"api"),(0,r.kt)("p",null,"ref : ",(0,r.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/building-your-application/routing/route-handlers"},"https://nextjs.org/docs/app/building-your-application/routing/route-handlers")),(0,r.kt)("p",null,"app \ud3f4\ub354 \ud558\uc704\uc5d0 api \ub77c\ub294\uacf3\uc5d0 \uc815\uc758 \ud574\uc57c \ud55c\ub2e4.  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"route.js|ts \ub77c\ub294 \uc774\ub984\uc73c\ub85c \uc815\uc758 \ud574\uc57c \ud55c\ub2e4. "),(0,r.kt)("li",{parentName:"ul"},"GET, POST \ub4f1 \uc774\ub984\uc73c\ub85c \ud568\uc218\ub97c export \ud574\uc8fc\uc5b4\uc57c \ud55c\ub2e4.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"GET, POST, PUT, PATCH, DELETE, HEAD, and OPTIONS")))))),(0,r.kt)("h4",{id:"get---basic"},"GET - basic"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// TS : app/api/hello/route.ts\nimport { NextResponse } from "next/server";\n\nexport const GET = async () => {\n  // json resposne\n  return NextResponse.json({\n    hello: "true",\n  });\n};\n\n')),(0,r.kt)("h4",{id:"header-cookies"},"header, cookies"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { NextResponse } from "next/server";\nimport { cookies, headers } from "next/headers";\n\nexport const GET = async () => {\n  const sig = headers().get("signature"); // get from header \n\n  const cookieStore = cookies();\n  const token = cookieStore.get("token"); // get from client cookies\n\n  // text message resposne\n  return new NextResponse("ok", {\n    status: 200, // status code\n    headers: {\n      foo: "bar", // header\n      "Set-Cookie": `token=${token?.value ? "visited + 1" : "visited"}`, // header(cookie)\n    },\n  });\n};\n')),(0,r.kt)("h4",{id:"get---route-segments-paramters-query-parameters"},"GET - Route Segments Paramters, Query Parameters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// TS : app/api/hello/[id]/route.ts\nimport { NextResponse, NextRequest } from "next/server";\n\ninterface GetParams {\n  params: {\n    id: string;\n  };\n}\n\n// api/hello/123?name=do\nexport const GET = async (request: NextRequest, { params }: GetParams) => {\n  // 1. Dynamic Route Segments > params \n  const searchParams = request.nextUrl.searchParams;\n  // 2. URL Query Parameters\n  const name = searchParams.get("name");\n\n  return NextResponse.json({\n    hello: params.id,\n    name,\n  });\n};\n\n')),(0,r.kt)("h4",{id:"cors"},"CORS"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export const dynamic = 'force-dynamic' // defaults to auto\n \nexport async function GET(request: Request) {\n  return new Response('Hello, Next.js!', {\n    status: 200,\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    },\n  })\n}\n")),(0,r.kt)("h4",{id:"post"},"POST"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\n// form data\nexport async function POST(request: Request) {\n  const formData = await request.formData();\n  const name = formData.get("name");\n  const email = formData.get("email");\n  return NextResponse.json({ name, email });\n}\n\n// json parsing\nexport async function PATCH(request: Request) {\n  const formData = await request.json();\n  const { name, email } = formData;\n  return NextResponse.json({ name, email });\n}\n\n')),(0,r.kt)("h3",{id:"middleware"},"Middleware"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createMiddlewareClient } from "@supabase/auth-helpers-nextjs";\nimport { NextRequest, NextResponse } from "next/server";\n\nexport async function middleware(req: NextRequest) {\n  const res = NextResponse.next();\n  /* \uc0ac\uc6a9\uc790 \uc138\uc158\uc744 \uac00\uc838\uc640\uc57c \uc11c\ubc84\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c object\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\ub2e4. */\n  const supabase = createMiddlewareClient({ req, res });\n  await supabase.auth.getSession();\n  return res;\n}\n\n')),(0,r.kt)("h2",{id:"etc"},"etc"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"metadata"},"metadata"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"icons (TODO)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// layout.tsx\nexport const metadata: Metadata = {\n  title: "Spotify",\n  description: "Listen to music",\n};\n')),(0,r.kt)("h2",{id:"directory-custome-convention"},"directory custome convention"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"actions : server actions \ub4e4\uc744 \ub123\ub294 \ud3f4\ub354  \napp : Next App Router\nhooks : hook \ubaa8\uc74c, \ub354 \uc138\ubd84\ud654 \ud574\ub3c4 \uad1c\ucc2e\uc744 \ub4ef  \ncomponents : \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8 \ubaa8\uc74c, \ub354 \uc138\ubd84\ud654 \ud574\ub3c4 \uad1c\ucc2e\uc744 \ub4ef  \nlibs : Server Side Module, Utils \ub4f1 > \ub354 \uc138\ubd84\ud654 \ud574\ub3c4 \uad1c\ucc2e\uc744 \ub4ef\n- server \uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ubaa8\ub4c8\uc774\ub77c\ub294 \uba85\uc2dc\ub97c \ud558\uba74 \uc88b\uc744 \ub4ef \n- server/utils, server/libs\n- \uc5ec\uae30\uc11c\ub3c4 `use server` \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud55c\uac00? \npublic : \uc815\uc801\ud30c\uc77c \ub9ac\uc18c\uc2a4  \nconstants\n\n")),(0,r.kt)("h2",{id:"hydration\uc774-\ub05d\ub0ac\ub294\uc9c0-\uc54c-\uc218-\uc788\ub294-\ubc29\ubc95"},"hydration\uc774 \ub05d\ub0ac\ub294\uc9c0 \uc54c \uc218 \uc788\ub294 \ubc29\ubc95"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"useEffect\uac00 \uc791\ub3d9\ub418\uba74, CSR\uc774 \uac00\ub2a5\ud55c \uc0c1\ud0dc\uc774\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"Modal\uac19\uc740 \uacbd\uc6b0\uac00 \ub300\ud45c\uc801\uc778 \uc608\uc2dc  "),(0,r.kt)("li",{parentName:"ul"},"\ub9cc\uc57d\uc5d0 mounted \ucf54\ub4dc\uac00 \uc5c6\ub2e4\uba74? SSR\uc5d0 modal\uc774 \ud3ec\ud568\ub418\uc5b4 \ub098\uc624\ub294\uac00?  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'"use client";\n\nimport { useEffect, useState } from "react";\n\nimport AuthModal from "@/components/AuthModal";\nimport SubscribeModal from "@/components/SubscribeModal";\nimport UploadModal from "@/components/UploadModal";\nimport { ProductWithPrice } from "@/types";\n\ninterface ModalProviderProps {\n  products: ProductWithPrice[];\n}\n\nconst ModalProvider: React.FC<ModalProviderProps> = ({\n  products\n}) => {\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  if (!isMounted) {\n    return null;\n  }\n\n  return (\n    <>\n      <AuthModal />\n      <SubscribeModal products={products} />\n      <UploadModal />\n    </>\n  );\n}\n\nexport default ModalProvider;\n\n')),(0,r.kt)("h2",{id:"typing-guide"},"Typing Guide"),(0,r.kt)("h3",{id:"propspass"},"PropsPass"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import React from "react";\n\ninterface ModalProps {\n  open: boolean;\n  title: string;\n  children: React.ReactNode;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst Modal: React.FC<ModalProps> = ({\n  open,\n  onOpenChange,\n  title,\n  children,\n}) => {}\n\n')))}m.isMDXComponent=!0}}]);